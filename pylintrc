###########################################################################
# This pylintrc file contains a best-effort configuration to uphold the
# best-practices and style for the Python track of exercism.org.
#
# It is based on the default pylint rc with enabled extensions, and is the same
# pylintrc file used in our generic Analyzer.
#
# Additions & alterations to the base configuration are noted in
# the Exercism Python Track contributing guide:
#   https://github.com/exercism/python/blob/main/CONTRIBUTING.md
###########################################################################


[MAIN]

analyse-fallback-blocks=no
clear-cache-post-run=yes
extension-pkg-allow-list=
extension-pkg-whitelist=
ignore=third_party
jobs=4
limit-inference-results=100
unsafe-load-any-extension=no
persistent=no
prefer-stubs=no
recursive=no

# Specify a score threshold under which the program will exit with error.
fail-under=10

# List of plugins (as comma separated values of python module names) to load,
# usually to register additional checkers.
load-plugins = pylint.extensions.bad_builtin,
               # pylint.extensions.code_style,
               pylint.extensions.comparison_placement,
               pylint.extensions.consider_refactoring_into_while_condition,
               # pylint.extensions.docparams,
               pylint.extensions.dunder,
               pylint.extensions.eq_without_hash,
               pylint.extensions.for_any_all,
               # pylint.extensions.mccabe,
               pylint.extensions.no_self_use,
               pylint.extensions.overlapping_exceptions,
               pylint.extensions.private_import,
               pylint.extensions.redefined_loop_name,
               pylint.extensions.set_membership,


[BASIC]

module-naming-style=snake_case
const-naming-style=UPPER_CASE
variable-naming-style=snake_case
function-naming-style=snake_case
argument-naming-style=snake_case
attr-naming-style=snake_case
class-naming-style=PascalCase
class-attribute-naming-style=any
class-const-naming-style=UPPER_CASE
method-naming-style=snake_case
inlinevar-naming-style=snake_case

# Include a hint for the correct naming format with invalid-name.
include-naming-hint=yes

# Bad variable names which should always be refused, separated by a comma.
bad-names=x,
          y,
          i,
          l,
          a,
          b,
          j,
          o,
          z

# Good variable names which should always be accepted, separated by a comma.
good-names=main,

# List of decorators that produce properties, such as abc.abstractproperty. Add
# to this list to register other decorators that produce valid properties.
# These decorators are taken in consideration only for invalid-name.
property-classes=abc.abstractproperty,
                 cached_property.cached_property,
                 cached_property.threaded_cached_property,
                 cached_property.cached_property_with_ttl,
                 cached_property.threaded_cached_property_with_ttl

# Minimum line length for functions/classes that require docstrings, shorter
# ones are exempt.
docstring-min-length=5

# Bad variable names regexes, separated by a comma. If names match any regex,
# they will always be refused
bad-names-rgxs=^.{1,2}$

# Good variable names regexes, separated by a comma. If names match any regex,
# they will always be accepted
good-names-rgxs=


[CLASSES]

check-protected-access-in-special-methods=no
defining-attr-methods=__init__,
                      __new__,
                      setUp

exclude-protected=_asdict,
                  _fields,
                  _replace,
                  _source,
                  _make

valid-classmethod-first-arg=cls,
                            class_

valid-metaclass-classmethod-first-arg=mcs


[DESIGN]

max-args=5
max-attributes=7
max-bool-expr=5
max-branches=12
max-locals=15
max-parents=7
max-positional-arguments=5
max-public-methods=20
max-returns=6
max-statements=50
min-public-methods=2


[EXCEPTIONS]

# Exceptions that will emit a warning when caught.
overgeneral-exceptions=StandardError,
                       Exception,
                       BaseException


[FORMAT]

# Number of spaces of indent required inside a hanging or continued line.
indent-after-paren=4

# Maximum number of characters on a single line.
max-line-length=120

# Regexp for a line that is allowed to be longer than the limit.
ignore-long-lines=(?x)(^\s*(\#\ )?<?https?://\S+>?$|^\s*(from\s+\S+\s+)?import\s+.+$)

# Maximum number of lines in a module.
max-module-lines=99999

single-line-class-stmt=no
single-line-if-stmt=yes


[IMPORTS]

# Allow explicit reexports by alias from a package __init__.
allow-reexport-from-package=no

# Allow wildcard imports from modules that define __all__.
allow-wildcard-with-all=no

# Deprecated modules which should not be used, separated by a comma.
deprecated-modules=regsub,
                   TERMIOS,
                   Bastion,
                   rexec,
                   sets

# Force import order to recognize a module as part of a third party library.
known-third-party=enchant,
                  absl

[LOGGING]

# The type of string formatting that logging methods do. `old` means using %
# formatting, `new` is for `{}` formatting.
logging-format-style=old

# Logging modules to check that the string format arguments are in logging
# function parameter format.
logging-modules=logging,absl.logging


[MESSAGES CONTROL]

# Only show warnings with the listed confidence levels. Leave empty to show
# all. Valid levels: HIGH, CONTROL_FLOW, INFERENCE, INFERENCE_FAILURE,
# UNDEFINED.
confidence=HIGH,
           CONTROL_FLOW,
           INFERENCE,
           INFERENCE_FAILURE,
           UNDEFINED

# Disable the message, report, category or checker with the given id(s).
disable=raw-checker-failed,
        locally-disabled,
        suppressed-message,
        arguments-differ,
        fixme,
        line-too-long,
        global-statement,
        import-error,
        no-member,
        signature-differs,
        too-many-locals,
        too-many-public-methods,
        too-many-return-statements,
        too-many-statements,
        unnecessary-pass

# Include some helpful details on errors messages for naming rules:
include-naming-hint = yes


[METHOD_ARGS]

# List of qualified names (i.e., library.method) which require a timeout
# parameter e.g. 'requests.api.get,requests.api.post'
timeout-methods=requests.api.delete,
                requests.api.get,
                requests.api.head,
                requests.api.options,
                requests.api.patch,
                requests.api.post,
                requests.api.put,
                requests.api.request


[MISCELLANEOUS]

check-fixme-in-docstring=no
notes=TODO


[REFACTORING]

# Maximum number of nested blocks for function / method body
max-nested-blocks=5

# Complete name of functions that never returns. When checking for
# inconsistent-return-statements if a never returning function is called then
# it will be considered as an explicit return statement and no message will be
# printed.
never-returning-functions=sys.exit,argparse.parse_error

# Let 'consider-using-join' be raised when the separator to join on would be
# non-empty (resulting in expected fixes of the type: ``"- " + " -
# ".join(items)``)
suggest-join-with-non-empty-separator=yes


[REPORTS]

reports=no


[SPELLING]

# Limits count of emitted suggestions for spelling mistakes.
max-spelling-suggestions=4

# List of comma separated words that should be considered directives if they
# appear at the beginning of a comment and should not be checked.
spelling-ignore-comment-directives=fmt: on,fmt: off,noqa:,noqa,nosec,isort:skip,mypy:

spelling-store-unknown-words=no


[STRING]

check-quote-consistency=yes
check-str-concat-over-line-jumps=yes


[VARIABLES]

allow-global-unused-variables=yes
dummy-variables-rgx=^\*{0,2}(_$|unused_|dummy_)
ignored-argument-names=_.*|^ignored_|^unused_
redefining-builtins-modules=six,six.moves,past.builtins,future.builtins,functools

# Tells whether we should check for unused import in __init__ files.
init-import=no


[TYPECHECK]

# List of decorators that produce context managers, such as
# contextlib.contextmanager. Add to this list to register other decorators that
# produce valid context managers.
contextmanager-decorators=contextlib.contextmanager,contextlib2.contextmanager

# List of members which are set dynamically and missed by pylint inference
# system, and so shouldn't trigger E1101 when accessed. Python regular
# expressions are accepted.
generated-members=

# Tells whether to warn about missing members when the owner of the attribute
# is inferred to be None.
ignore-none=yes

# This flag controls whether pylint should warn about no-member and similar
# checks whenever an opaque object is returned when inferring. The inference
# can return multiple potential results while evaluating a Python object, but
# some branches might not be evaluated, which results in partial inference. In
# that case, it might be useful to still emit no-member and other checks for
# the rest of the inferred objects.
ignore-on-opaque-inference=yes

# List of symbolic message names to ignore for Mixin members.
ignored-checks-for-mixins=no-member,
                          not-async-context-manager,
                          not-context-manager,
                          attribute-defined-outside-init

# List of class names for which member attributes should not be checked (useful
# for classes with dynamically set attributes). This supports the use of
# qualified names.
ignored-classes=optparse.Values,thread._local,_thread._local

# Show a hint with possible names when a member name was not found. The aspect
# of finding the hint is based on edit distance.
missing-member-hint=yes

# The maximum edit distance a name should have in order to be considered a
# similar match for a missing member name.
missing-member-hint-distance=1

# The total number of similar names that should be taken in consideration when
# showing a hint for a missing member.
missing-member-max-choices=1

# Regex pattern to define which classes are considered mixins.
mixin-class-rgx=.*[Mm]ixin

# List of decorators that change the signature of a decorated function.
signature-mutators=
